<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Combyne.js Test Suite</title> 

  <!-- Load combyne.js -->
  <script src="../combyne.js"></script>
  <script src="http://code.jquery.com/jquery.js"></script>

  <!-- Browser compat -->
  <script>
    function require() {
      return combyne;
    }

  </script>

  <!-- Nodeunit assets -->
  <link rel="stylesheet" href="assets/nodeunit.css"> 
  <script src="assets/nodeunit.js"></script> 

  <!-- Tests
  <script> exports = cache.common </script>
  <script src="common.js"></script> 
  <script> exports = cache.properties </script>
  <script src="properties.js"></script> 
  <script> exports = cache.comments </script>
  <script src="comments.js"></script> 
  <script> exports = cache.filters </script>
  <script src="filters.js"></script> 
  <script> exports = cache.expressions </script>
  <script src="expressions.js"></script> 
  <script> exports = cache.delimiters </script>
  <script src="delimiters.js"></script> 
  <script> exports = cache.partials </script>
  <script src="partials.js"></script> 
  -->
</head>

<body>
  <h1 id="nodeunit-header">Combyne.js Client-Side Test Suite</h1> 
  <script> 
    var cache = {
      common: {},
      properties: {},
      comments: {},
      filters: {},
      expressions: {},
      delimiters: {},
      partials: {}
    };

    var scripts = [
      [ 'common', 'common.js' ],
      [ 'properties', 'properties.js' ],
      [ 'comments', 'comments.js' ],
      [ 'filters', 'filters.js' ],
      [ 'expressions', 'expressions.js' ]
    ];

    function loadScript(src, cb) {
      var script = document.createElement('script');
      script.src = src;
      document.body.appendChild(script);

      script.onload = cb;
    }

    function load(cb) { 
      var file = scripts.shift();

      exports = cache[file[0]];

      loadScript(file[1], function() {
        if (scripts.length) {
          return load(cb);
        }

        cb();
      });
    }

    load(function() {
    
      nodeunit.run(cache);
    
    });

  </script> 
</body>
</html>
